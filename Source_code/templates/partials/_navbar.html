<header class="fixed inset-x-0 top-0 z-50 bg-charcoal/95 backdrop-blur-md border-b border-gold/15 shadow-gold/10">
  <div class="container mx-auto px-5 h-[72px] flex items-center justify-between">
    
    <!-- ðŸ”¸ Brand -->
    <a href="/" class="flex items-center gap-3 group">
      <div class="h-10 w-10 rounded-xl bg-gradient-to-br from-gold to-gold-2 grid place-items-center shadow-md shadow-gold/20">
        <i class="fa-solid fa-utensils text-charcoal text-lg"></i>
      </div>
      <span class="font-semibold tracking-wide text-ivory text-lg group-hover:text-gold transition">
        Soviare
      </span>
    </a>

    <!-- ðŸ”¸ Desktop Navigation -->
    <nav class="hidden lg:flex items-center gap-6 font-medium">
      <a href="#home" class="nav-link text-ivory/90 hover:text-gold">Home</a>
      <a href="#menu" class="nav-link text-ivory/90 hover:text-gold">Menu</a>

      <!-- ðŸ”¸ Dropdown: Bookings -->
      <div class="dropdown relative" data-dropdown>
        <button class="nav-link flex items-center gap-2 text-ivory/90 hover:text-gold" data-dropdown-trigger>
          Bookings 
          <i class="fa-solid fa-chevron-down text-[10px] text-gold/80"></i>
        </button>

        <!-- fixed dropdown alignment and spacing -->
        <div class="dropdown-menu absolute left-0 mt-2 min-w-[200px] bg-charcoal-2 border border-gold/15 rounded-lg shadow-lg p-1">
          <a href="#private-rooms" class="dropdown-item block px-3 py-2 rounded-md text-ivory/90 hover:bg-gold/10 hover:text-gold">
            Private Rooms
          </a>
          <a href="#event-reservation" class="dropdown-item block px-3 py-2 rounded-md text-ivory/90 hover:bg-gold/10 hover:text-gold">
            Events
          </a>
        </div>
      </div>

      <a href="#contact" class="nav-link text-ivory/90 hover:text-gold">Contact</a>
    </nav>

    <!-- ðŸ”¸ Action Buttons -->
    <div class="flex items-center gap-3">
      {% if is_authenticated %}
      <div class="relative dropdown" data-dropdown>
        <button class="flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-gold to-gold-2 rounded-xl text-charcoal font-semibold hover:brightness-110" data-dropdown-trigger>
          <span class="rounded-full bg-amber-700 px-2 py-1 text-sm font-bold text-ivory">
            {{ user_email[0]|upper }}
          </span>
          {% if session['role'] == 'admin' %}
            Admin
          {% else %}
            {{ user_email.split('@')[0] }}
          {% endif %}
          <i class="fa-solid fa-chevron-down text-xs text-charcoal/70"></i>
        </button>

        <div class="dropdown-menu absolute right-0 mt-2 bg-charcoal-2 border border-gold/15 rounded-lg shadow-lg p-1 w-[210px]">
          {% if session['role'] == 'admin' %}
            <a href="{{ url_for('admin.dashboard') }}" class="dropdown-item block px-3 py-2 rounded-md text-ivory/90 hover:bg-gold/10 hover:text-gold">
              <i class="fa-solid fa-chart-line mr-2 text-gold"></i> Admin Dashboard
            </a>
            <a href="{{ url_for('admin.users_list') }}" class="dropdown-item block px-3 py-2 rounded-md text-ivory/90 hover:bg-gold/10 hover:text-gold">
              <i class="fa-solid fa-users mr-2 text-gold"></i> Manage Users
            </a>
          {% else %}
            <a href="{{ url_for('customer.customer_dashboard') }}" class="dropdown-item block px-3 py-2 rounded-md text-ivory/90 hover:bg-gold/10 hover:text-gold">
              <i class="fa-regular fa-user mr-2 text-gold"></i> My Dashboard
            </a>
            <a href="{{ url_for('customer.customer_orders') }}" class="dropdown-item block px-3 py-2 rounded-md text-ivory/90 hover:bg-gold/10 hover:text-gold">
              <i class="fa-solid fa-clipboard-list mr-2 text-gold"></i> My Orders
            </a>
          {% endif %}
          <a href="{{ url_for('auth.logout') }}" class="dropdown-item block px-3 py-2 rounded-md text-red-400 hover:bg-red-500/10 hover:text-red-300">
            <i class="fa-solid fa-arrow-right-from-bracket mr-2"></i> Logout
          </a>
        </div>
      </div>
      {% else %}
      <a href="/otp_login" class="btn btn-gold text-sm px-4 py-2">Login</a>
      <a href="/register" class="btn btn-outline text-sm px-4 py-2">Register</a>
      {% endif %}

      <button id="confirmOrderBtn" class="btn btn-accent hidden sm:inline-flex text-sm px-4 py-2">
        <i class="fa-solid fa-bag-shopping mr-2"></i> Order Now
      </button>

      <!-- ðŸ”¸ Mobile menu button -->
      <button id="mobileMenuBtn" class="lg:hidden btn btn-icon" aria-label="Open menu">
        <i class="fa-solid fa-bars text-lg"></i>
      </button>
    </div>
  </div>

  <!-- ðŸ”¸ Mobile Drawer -->
  <div id="mobileMenu" class="mobile-drawer hidden">
    <a href="#home" class="mobile-link">Home</a>
    <a href="#menu" class="mobile-link">Menu</a>
    <a href="#private-rooms" class="mobile-link">Private Rooms</a>
    <a href="#event-reservation" class="mobile-link">Events</a>
    <a href="#contact" class="mobile-link">Contact</a>
    <div class="h-px bg-ivory/10 my-3"></div>
    
    {% if is_authenticated %}
      {% if session['role'] == 'admin' %}
        <a href="{{ url_for('admin.dashboard') }}" class="mobile-link">
          <i class="fa-solid fa-chart-line mr-2"></i> Admin Dashboard
        </a>
        <a href="{{ url_for('admin.users_list') }}" class="mobile-link">
          <i class="fa-solid fa-users mr-2"></i> Manage Users
        </a>
      {% else %}
        <a href="{{ url_for('customer.customer_dashboard') }}" class="mobile-link">
          <i class="fa-regular fa-user mr-2"></i> My Dashboard
        </a>
        <a href="{{ url_for('customer.customer_orders') }}" class="mobile-link">
          <i class="fa-solid fa-clipboard-list mr-2"></i> My Orders
        </a>
      {% endif %}
      <a href="{{ url_for('auth.logout') }}" class="mobile-link text-red-400">
        <i class="fa-solid fa-arrow-right-from-bracket mr-2"></i> Logout
      </a>
    {% else %}
      <a href="/otp_login" class="mobile-link">Login</a>
      <a href="/register" class="mobile-link">Register</a>
    {% endif %}

    <button id="confirmOrderBtnMobile" class="btn btn-accent w-full mt-2">
      <i class="fa-solid fa-bag-shopping mr-2"></i> Order Now
    </button>
  </div>
</header>
