<header class="fixed inset-x-0 top-0 z-50 bg-charcoal/95 backdrop-blur-md shadow-sm border-b border-gold/10">
  <div class="container mx-auto px-4 h-[72px] flex items-center justify-between">

    <!-- Brand -->
    <a href="{% if user_role == 'admin' %}{{ url_for('admin.dashboard') }}{% elif is_authenticated %}{{ url_for('customer.customer_dashboard') }}{% else %}/{% endif %}"
       class="flex items-center gap-3 group">
      <div class="h-10 w-10 rounded-xl bg-gradient-to-br from-gold to-gold/70 grid place-items-center shadow-gold/30 shadow-md">
        <i class="fa-solid fa-utensils text-charcoal text-lg"></i>
      </div>
      <span class="font-semibold tracking-wide text-ivory group-hover:text-gold transition">Soviare</span>
    </a>

    <!-- Desktop Nav -->
    <nav class="hidden lg:flex items-center gap-1">
      <a href="#home" class="nav-link">Home</a>
      <a href="#menu" class="nav-link">Menu</a>

      <!-- Bookings dropdown -->
      <div class="dropdown relative" data-dropdown>
        <button class="nav-link flex items-center gap-2" data-dropdown-trigger>
          Bookings <i class="fa-solid fa-chevron-down text-[10px]"></i>
        </button>
        <div class="dropdown-menu">
          <a href="#private-rooms" class="dropdown-item">Private Rooms</a>
          <a href="#event-reservation" class="dropdown-item">Events</a>
        </div>
      </div>

      <a href="#contact" class="nav-link">Contact</a>
    </nav>

    <!-- Actions -->
    <div class="flex items-center gap-3">

      {% if is_authenticated %}
      <!-- Logged-in Dropdown -->
     <div class="relative dropdown" data-dropdown>
  <button 
    class="flex items-center gap-2 px-3 py-2 bg-amber-600 rounded-xl text-white font-semibold"
    data-dropdown-trigger
  >
    <span class="rounded-full bg-amber-800 px-2 py-1 text-sm font-bold">
      {{ user_email[0]|upper }}
    </span>
    {% if user_role == 'admin' %}
      Admin
    {% else %}
      {{ user_email.split('@')[0] }}
    {% endif %}
    <i class="fa-solid fa-chevron-down text-[10px] ml-1"></i>
  </button>

  <!-- Dropdown Menu -->
  <div 
    class="absolute right-0 mt-2 w-48 bg-zinc-900 text-white rounded-xl shadow-lg hidden dropdown-menu"
  >
    {% if user_role == 'admin' %}
      <a href="{{ url_for('admin.dashboard') }}" class="block px-4 py-2 hover:bg-zinc-800">Admin Dashboard</a>
      <a href="{{ url_for('admin.users_list') }}" class="block px-4 py-2 hover:bg-zinc-800">Manage Users</a>
    {% else %}
      <a href="{{ url_for('customer.customer_dashboard') }}" class="block px-4 py-2 hover:bg-zinc-800">My Dashboard</a>
      <a href="{{ url_for('customer.customer_orders') }}" class="block px-4 py-2 hover:bg-zinc-800">My Orders</a>
    {% endif %}
    <a href="{{ url_for('auth.logout') }}" class="block px-4 py-2 text-red-400 hover:bg-zinc-800">Logout</a>
  </div>
</div>


      {% else %}
      <!-- Not logged in -->
      <a href="/otp_login" class="btn btn-gold">Login</a>
      <a href="/register" class="btn btn-outline">Register</a>
      {% endif %}

      <button id="confirmOrderBtn" class="btn btn-accent hidden sm:inline-flex">Order Now</button>

      <!-- Mobile menu -->
      <button id="mobileMenuBtn" class="lg:hidden btn btn-icon" aria-label="Open menu">
        <i class="fa-solid fa-bars"></i>
      </button>
    </div>
  </div>

  <!-- Mobile Drawer -->
  <div id="mobileMenu" class="mobile-drawer hidden">
    <a href="#home" class="mobile-link">Home</a>
    <a href="#menu" class="mobile-link">Menu</a>
    <a href="#private-rooms" class="mobile-link">Private Rooms</a>
    <a href="#event-reservation" class="mobile-link">Events</a>
    <a href="#contact" class="mobile-link">Contact</a>
    <div class="h-px bg-ivory/10 my-3"></div>

    {% if is_authenticated %}
      {% if user_role == 'admin' %}
        <a href="{{ url_for('admin.dashboard') }}" class="mobile-link"><i class="fa-solid fa-gauge"></i> Admin Dashboard</a>
        <a href="{{ url_for('admin.users_list') }}" class="block px-4 py-2 hover:bg-zinc-800">Manage Users</a>

      {% else %}
        <a href="{{ url_for('customer.customer_dashboard') }}" class="mobile-link"><i class="fa-regular fa-user"></i> My Dashboard</a>
        <a href="{{ url_for('customer.customer_orders') }}" class="mobile-link"><i class="fa-regular fa-clipboard"></i> My Orders</a>
      {% endif %}
      <a href="{{ url_for('auth.logout') }}" class="mobile-link text-red-400"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</a>
    {% else %}
      <a href="/otp_login" class="mobile-link">Login</a>
      <a href="/register" class="mobile-link">Register</a>
    {% endif %}

    <button id="confirmOrderBtnMobile" class="btn btn-accent w-full mt-2">Order Now</button>
  </div>
</header>
