<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Soviare | Fine Dining Experience</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="icon" href="/favicon.ico" />
<style>
        /* Custom CSS */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4fc89fb8-9eef-47ed-9b6a-de3611e9e28f.png') no-repeat center center/cover;
        }
        .menu-category:hover .category-icon {
            transform: translateY(-5px);
            transition: all 0.3s ease;
        }
        .dish-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        .testimonial-card {
            transition: all 0.3s ease;
        }
        .testimonial-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .gallery-image {
            transition: all 0.3s ease;
        }
        .gallery-image:hover {
            transform: scale(1.05);
        }
    
        .group:hover .group-hover\:opacity-100 {
        opacity: 1 !important;
        }
        .group:hover .group-hover\:visible {
          visibility: visible !important;
        }


    </style>
</head>

<body class="font-sans bg-gray-50">
<!-- ========================= üåü HEADER / NAVBAR ========================= -->
<header class="fixed w-full bg-white shadow-md z-50">
  <div class="container mx-auto px-4 py-3 flex justify-between items-center">

    <!-- üçΩÔ∏è Logo -->
    <div class="flex items-center">
      <img alt="Restaurant logo" class="h-12 w-12 mr-2" 
           src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/7077cb17-eb3e-45c3-beca-2510e2fca5fe.png"/>
      <h1 class="text-2xl font-bold text-gray-800">Restaurant</h1>
    </div>

    <!-- üß≠ Navigation Links (Desktop) -->
    <nav class="hidden md:flex space-x-6">
      <a href="#home" class="nav-link">Home</a>
      <a href="#menu" class="nav-link">Menu</a>

      <div class="relative group">
        <button class="nav-link flex items-center gap-1">
          Bookings
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div class="absolute hidden group-hover:block bg-white shadow-lg rounded-lg mt-1 p-2 min-w-[200px]">
          <a href="#private-rooms" class="dropdown-item">Private Rooms</a>
          <a href="#event-reservation" class="dropdown-item">Events</a>
        </div>
      </div>

      <a href="#contact" class="nav-link">Contact</a>
    </nav>

    <!-- üë§ User Actions -->
    <div class="flex items-center space-x-3">

      {% if is_authenticated %}
      <!-- ‚úÖ Logged-in user dropdown -->
      <div class="relative group inline-block">
        <button class="bg-amber-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-amber-700 transition flex items-center gap-2">
          <!-- Avatar -->
          <div class="w-7 h-7 rounded-full bg-white text-amber-700 flex items-center justify-center font-bold text-sm uppercase">
            {{ user_email[0] }}
          </div>
          <!-- Name -->
          <span class="text-sm truncate max-w-[140px]">{{ user_email.split('@')[0] | capitalize }}</span>
          <!-- Chevron -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>

        <!-- Dropdown -->
        <div class="absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-lg opacity-0 group-hover:opacity-100 invisible group-hover:visible transition-opacity">
          <a href="/customer/dashboard" class="dropdown-item">My Dashboard</a>
          <a href="/customer/orders" class="dropdown-item">My Orders</a>
          <a href="/logout" class="dropdown-item text-red-600 hover:bg-red-100">Logout</a>
        </div>
      </div>
      {% else %}
      <!-- üîì Guest Actions -->
      <div class="flex gap-3">
        <a href="/otp_login" class="btn-primary">Login</a>
        <a href="/register" class="btn-outline">Register</a>
      </div>
      {% endif %}

      <!-- üõí Primary CTA -->
      <button id="confirmOrderBtn"
        class="bg-orange-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-orange-700 transition duration-300">
        Order Now
      </button>

      <!-- üì± Mobile Menu Button -->
      <button id="mobileMenuBtn" class="md:hidden text-gray-800">
        <i class="fas fa-bars text-2xl"></i>
      </button>
    </div>
  </div>

  <!-- üì± Mobile Dropdown -->
  <div id="mobileMenu" class="hidden md:hidden border-t border-gray-200 bg-white shadow-sm">
    <div class="flex flex-col p-4 space-y-3 text-gray-700 font-medium">
      <a href="#home" class="hover:text-amber-600">Home</a>
      <a href="#menu" class="hover:text-amber-600">Menu</a>
      <a href="#private-rooms" class="hover:text-amber-600">Private Rooms</a>
      <a href="#event-reservation" class="hover:text-amber-600">Events</a>
      <a href="#contact" class="hover:text-amber-600">Contact</a>
      {% if is_authenticated %}
      <a href="/customer/dashboard" class="hover:text-amber-600">My Dashboard</a>
      <a href="/customer/orders" class="hover:text-amber-600">My Orders</a>
      <a href="/logout" class="text-red-600 hover:text-red-700">Logout</a>
      {% else %}
      <a href="/otp_login" class="hover:text-amber-600">Login</a>
      <a href="/register" class="hover:text-amber-600">Register</a>
      {% endif %}
    </div>
  </div>
</header>

<!-- ========================= üåü END HEADER ========================= -->

<!-- üíÖ Style Enhancements -->
<style>
.nav-link {
  @apply px-3 py-1 rounded-lg hover:bg-amber-100 text-gray-800 hover:text-amber-600 font-medium transition;
}
.dropdown-item {
  @apply block px-4 py-2 hover:bg-amber-50 rounded text-gray-700;
}
.btn-primary {
  @apply bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 transition;
}
.btn-outline {
  @apply border border-amber-600 text-amber-700 px-4 py-2 rounded-lg hover:bg-amber-100 transition;
}
.group:hover .group-hover\:opacity-100 { opacity: 1 !important; }
.group:hover .group-hover\:visible { visibility: visible !important; }
</style>

<!-- üì± Mobile Menu Toggle Script -->
<script>
document.getElementById("mobileMenuBtn").addEventListener("click", () => {
  const menu = document.getElementById("mobileMenu");
  menu.classList.toggle("hidden");
});
</script>

<!-- Hero Section --->
<section class="hero text-white pt-32 pb-20 md:pt-40 md:pb-28" id="home">
<div class="container mx-auto px-4 text-center">
<h1 class="text-4xl md:text-6xl font-bold mb-6">Experience Culinary Excellence</h1>
<p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto">Where every dish tells a story of passion, tradition, and innovation</p>
<div class="flex flex-col sm:flex-row justify-center gap-4">
<a class="bg-amber-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-amber-700 transition duration-300 text-lg" href="#menu">
                    View Menu
                </a>
</div>
</div>
</section>



<!-- MENU SECTION -->
<section class="py-16 bg-gray-50" id="menu">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-gray-800 mb-4">Our Menu</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Enjoy our carefully curated Indian dishes prepared with authentic flavors and love.
      </p>
    </div>

    <!-- Menu Categories -->
    <div class="flex justify-center mb-12 flex-wrap gap-4">
      <button class="menu-category px-6 py-3 bg-white rounded-lg shadow-sm flex flex-col items-center hover:shadow-md">
        <div class="category-icon w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-2">
          <i class="fas fa-utensils text-amber-600 text-xl"></i>
        </div>
        <span>All</span>
      </button>
      <button class="menu-category px-6 py-3 bg-white rounded-lg shadow-sm flex flex-col items-center hover:shadow-md">
        <div class="category-icon w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-2">
          <i class="fas fa-drumstick-bite text-amber-600 text-xl"></i>
        </div>
        <span>Starters</span>
      </button>
      <button class="menu-category px-6 py-3 bg-white rounded-lg shadow-sm flex flex-col items-center hover:shadow-md">
        <div class="category-icon w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-2">
          <i class="fas fa-fish text-amber-600 text-xl"></i>
        </div>
        <span>Main Course</span>
      </button>
      <button class="menu-category px-6 py-3 bg-white rounded-lg shadow-sm flex flex-col items-center hover:shadow-md">
        <div class="category-icon w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-2">
          <i class="fas fa-glass-whiskey text-amber-600 text-xl"></i>
        </div>
        <span>Drinks</span>
      </button>
      <button class="menu-category px-6 py-3 bg-white rounded-lg shadow-sm flex flex-col items-center hover:shadow-md">
        <div class="category-icon w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-2">
          <i class="fas fa-ice-cream text-amber-600 text-xl"></i>
        </div>
        <span>Desserts</span>
      </button>
    </div>

    <!-- Dish Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

      <!-- Paneer Tikka -->
      <div class="dish-card bg-white rounded-xl shadow-md overflow-hidden" data-category="starters">
        <div class="relative h-48">
          <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/74f62dde-9340-4c89-9bdc-fcd92beaa170.png" alt="Paneer tikka image" class="w-full h-full object-cover">
          <span class="dish-price absolute top-4 right-4 bg-amber-600 text-white px-3 py-1 rounded-full text-sm font-medium">$24</span>
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold text-gray-800 mb-2">Paneer Tikka</h3>
          <p class="text-gray-600 mb-4">Spiced grilled paneer cubes served with mint chutney.</p>
          <div class="flex items-center space-x-2">
            <input type="number" min="1" value="1" class="dish-qty border rounded px-2 py-1 w-16">
            <button class="add-to-order bg-amber-600 text-white px-4 py-2 rounded hover:bg-amber-700 transition">Add</button>
          </div>
        </div>
      </div>

      <!-- Butter Chicken -->
      <div class="dish-card bg-white rounded-xl shadow-md overflow-hidden" data-category="main course">
        <div class="relative h-48">
          <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/67e52596-c078-43c4-b4d7-9b6d19e2b9f2.png" alt="Butter chicken image" class="w-full h-full object-cover">
          <span class="dish-price absolute top-4 right-4 bg-amber-600 text-white px-3 py-1 rounded-full text-sm font-medium">$24</span>
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold text-gray-800 mb-2">Butter Chicken</h3>
          <p class="text-gray-600 mb-4">Creamy tomato gravy with tender chicken pieces and spices.</p>
          <div class="flex items-center space-x-2">
            <input type="number" min="1" value="1" class="dish-qty border rounded px-2 py-1 w-16">
            <button class="add-to-order bg-amber-600 text-white px-4 py-2 rounded hover:bg-amber-700 transition">Add</button>
          </div>
        </div>
      </div>

      <!-- Vegetable Biryani -->
      <div class="dish-card bg-white rounded-xl shadow-md overflow-hidden" data-category="main course">
        <div class="relative h-48">
          <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/f593a1f6-f85a-40fa-a70c-a28ce9536576.png" alt="Vegetable biryani image" class="w-full h-full object-cover">
          <span class="dish-price absolute top-4 right-4 bg-amber-600 text-white px-3 py-1 rounded-full text-sm font-medium">$24</span>
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold text-gray-800 mb-2">Vegetable Biryani</h3>
          <p class="text-gray-600 mb-4">Fragrant basmati rice with spiced vegetables and saffron.</p>
          <div class="flex items-center space-x-2">
            <input type="number" min="1" value="1" class="dish-qty border rounded px-2 py-1 w-16">
            <button class="add-to-order bg-amber-600 text-white px-4 py-2 rounded hover:bg-amber-700 transition">Add</button>
          </div>
        </div>
      </div>

      <!-- Masala Dosa -->
      <div class="dish-card bg-white rounded-xl shadow-md overflow-hidden" data-category="starters">
        <div class="relative h-48">
          <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/cb81d391-fe33-4b34-8ccf-2fc3b4904674.png" alt="Masala dosa image" class="w-full h-full object-cover">
          <span class="dish-price absolute top-4 right-4 bg-amber-600 text-white px-3 py-1 rounded-full text-sm font-medium">$24</span>
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold text-gray-800 mb-2">Masala Dosa</h3>
          <p class="text-gray-600 mb-4">Crispy South Indian crepe filled with spiced potato mash.</p>
          <div class="flex items-center space-x-2">
            <input type="number" min="1" value="1" class="dish-qty border rounded px-2 py-1 w-16">
            <button class="add-to-order bg-amber-600 text-white px-4 py-2 rounded hover:bg-amber-700 transition">Add</button>
          </div>
        </div>
      </div>

      <!-- Gulab Jamun -->
      <div class="dish-card bg-white rounded-xl shadow-md overflow-hidden" data-category="desserts">
        <div class="relative h-48">
          <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/b57a7146-0ca9-4b91-9e1e-ab03226e7613.png" alt="Gulab jamun image" class="w-full h-full object-cover">
          <span class="dish-price absolute top-4 right-4 bg-amber-600 text-white px-3 py-1 rounded-full text-sm font-medium">$24</span>
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold text-gray-800 mb-2">Gulab Jamun</h3>
          <p class="text-gray-600 mb-4">Soft fried milk balls soaked in rose-flavored sugar syrup.</p>
          <div class="flex items-center space-x-2">
            <input type="number" min="1" value="1" class="dish-qty border rounded px-2 py-1 w-16">
            <button class="add-to-order bg-amber-600 text-white px-4 py-2 rounded hover:bg-amber-700 transition">Add</button>
          </div>
        </div>
      </div>

      <!-- Masala Chai -->
      <div class="dish-card bg-white rounded-xl shadow-md overflow-hidden" data-category="drinks">
        <div class="relative h-48">
          <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4a8eb204-8c7d-4c3e-a1a1-06095b8b5408.png" alt="Masala chai image" class="w-full h-full object-cover">
          <span class="dish-price absolute top-4 right-4 bg-amber-600 text-white px-3 py-1 rounded-full text-sm font-medium">$24</span>
        </div>
        <div class="p-6">
          <h3 class="text-xl font-bold text-gray-800 mb-2">Masala Chai</h3>
          <p class="text-gray-600 mb-4">Spiced Indian milk tea brewed with cardamom, ginger, and cinnamon.</p>
          <div class="flex items-center space-x-2">
            <input type="number" min="1" value="1" class="dish-qty border rounded px-2 py-1 w-16">
            <button class="add-to-order bg-amber-600 text-white px-4 py-2 rounded hover:bg-amber-700 transition">Add</button>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>




<!-- Online Order Section -->
<section class="py-16 bg-amber-600 text-white" id="order">
<div class="container mx-auto px-4">
<div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
<div class="md:flex">
<div class="md:w-1/2 p-8 bg-amber-600">
<h2 class="text-3xl font-bold mb-6">Place an Order</h2>
<p class="mb-6">Order your favorite dishes for pickup or delivery.</p>
<div class="flex items-center mb-4">
<i class="fas fa-phone text-xl mr-4"></i>
<div>
<p class="text-sm">Call us directly</p>
<p class="font-bold">+1 (555) 123-4567</p>
</div>
</div>
<div class="flex items-center">
<i class="fas fa-clock text-xl mr-4"></i>
<div>
<p class="text-sm">Opening Hours</p>
<p class="font-bold">Mon-Sun: 11:00 AM - 10:30 PM</p>
</div>
</div>
<img alt="Elegant restaurant table setting with wine glasses and silverware" class="mt-8 rounded-lg" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/721c5969-e704-43cf-bd9d-80221a941f78.png"/>
</div>
<div class="md:w-1/2 p-8 bg-white text-gray-800">
<!-- ‚úÖ FORM starts -->
<form class="space-y-4" id="reservationForm">
<!-- Order Summary (always shown) -->
<div class="bg-amber-50 p-4 rounded-lg mb-4">
<h3 class="font-bold text-gray-800 mb-2">Your Order Summary</h3>
<div class="space-y-2 text-sm" id="order-summary">
<!-- Items will be added here dynamically -->
</div>
<div class="font-bold text-gray-800 pt-2 mt-2 border-t border-amber-100" id="order-total"></div>
</div>


<!-- ‚úÖ CHECKOUT SECTION: Hidden by default -->
 
<section class="hidden space-y-4" id="checkout-section">
<div>
<label class="block text-sm font-medium mb-1" for="name">Full Name</label>
<input class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="name" required="" type="text"/>
</div>
<div>
<label class="block text-sm font-medium mb-1" for="email">Email</label>
<input class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="email" required="" type="email"/>
</div>
<div>
<label class="block text-sm font-medium mb-1" for="phone">Phone</label>
<input class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="phone" required="" type="tel"/>
</div>
<div>
<label class="block text-sm font-medium mb-1" for="delivery-method">Delivery Method</label>
<select class="w-full border border-gray-300 rounded px-4 py-2" id="delivery-method">
<option value="pickup">Pickup</option>
<option value="delivery">Delivery</option>
</select>
</div>

<!-- Show/hide this field dynamically -->
<div class="mt-4 hidden" id="address-wrapper">
<label class="block text-sm font-medium text-gray-700 mb-1" for="address">Delivery Address</label>
<input class="w-full border border-gray-300 rounded px-4 py-2" id="address" placeholder="Enter delivery address" type="text"/>
</div>
<div>
<label class="block text-sm font-medium mb-1" for="specialRequests">Special Requests</label>
<textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="specialRequests" rows="3"></textarea>
</div>
<div class="flex space-x-4">
<button class="w-full bg-amber-600 text-white py-3 rounded-lg font-medium hover:bg-amber-700 transition duration-300" type="submit">
          Place Order
        </button>
</div>
</section>
</form>
</div>
</div>
</div>
</div>
</section>


<!-- PRIVATE ROOMS SECTION -->
<section id="private-rooms" class="py-16 bg-white">
  <div class="container mx-auto px-4">

    <!-- Top Content -->
    <div class="flex flex-col md:flex-row items-center gap-12 mb-12">
      <div class="md:w-1/2">
        <img
          alt="Elegant restaurant interior with warm lighting, wooden tables, and modern decor"
          class="rounded-lg shadow-xl w-full"
          src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4d85201c-033f-4c87-9846-aebe04590cf3.png"
        />
      </div>
      <div class="md:w-1/2">
        <h2 class="text-3xl font-bold text-gray-800 mb-6">Private Dining Rooms</h2>
        <p class="text-gray-600 mb-4">
          Founded in 2010, Hawa Mahal has been serving exceptional cuisine that blends traditional recipes with modern techniques. Our chef, with over 20 years of international experience, brings a world of flavors to your table.
        </p>
        <p class="text-gray-600 mb-6">
          We source only the finest local and seasonal ingredients, supporting sustainable farming practices and local producers. Every dish is crafted with passion and attention to detail.
        </p>
        <div class="flex items-center space-x-4">
          <div class="flex items-center">
            <i class="fas fa-star text-amber-500 mr-2"></i>
            <span class="font-medium">4.9 (1,284 reviews)</span>
          </div>
          <div class="flex items-center">
            <i class="fas fa-utensils text-amber-500 mr-2"></i>
            <span class="font-medium">200+ Dishes</span>
          </div>
        </div>
      </div>
    </div>

<button id="showPrivateRoomForm" class="mt-6 px-6 py-3 bg-amber-600 text-white rounded hover:bg-amber-700 transition">
  Book Now
</button>



<div id="privateRoomFormWrapper" class="mt-10 hidden transition-opacity duration-300">
  
    <!-- Booking Form -->
    <div class="bg-gray-50 p-8 rounded-lg shadow-lg">
      <h3 class="text-2xl font-semibold text-gray-800 mb-4">Book a Private Room</h3>
      <p class="text-gray-600 mb-4">Reserve for birthdays, family dinners, or corporate meetings.</p>
      <form id="privateRoomForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">

        <input type="text" placeholder="Your Name" class="border border-gray-300 rounded px-4 py-2" required />
        <input type="email" placeholder="Email" class="border border-gray-300 rounded px-4 py-2" required />
        <input type="date" class="border border-gray-300 rounded px-4 py-2" required />
        <input type="time" class="border border-gray-300 rounded px-4 py-2" required />
        <textarea placeholder="Special requests" class="md:col-span-2 border border-gray-300 rounded px-4 py-2"></textarea>
        <button type="submit" class="md:col-span-2 bg-amber-600 text-white py-3 rounded-lg hover:bg-amber-700 transition">
          Book Private Room
        </button>
      </form>
    </div>
</div>   
  </div>
</section>


<!-- Event Reservation Section -->
<section class="py-16 bg-white" id="event-reservation">
  <div class="container mx-auto px-4">
    <div class="text-center mb-8">
      <h2 class="text-3xl font-bold text-gray-800 mb-4">Event Reservations</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">Book our private spaces for your special events and gatherings</p>
    </div>

    <!-- Image Gallery -->



    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-12">
      <div class="gallery-image overflow-hidden rounded-lg">
        <img alt="Chef preparing food in professional kitchen" class="w-full h-full object-cover hover:scale-110" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/9634dd1d-ca2e-4b01-9d12-b3a9f1d3972d.png" />
      </div>
      <div class="gallery-image overflow-hidden rounded-lg">
        <img alt="Seafood platter with lobster and shrimp" class="w-full h-full object-cover hover:scale-110" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/0b32dfe4-6501-48ef-af0b-77f6832c97a6.png" />
      </div>
      <div class="gallery-image overflow-hidden rounded-lg">
        <img alt="Elegant dining room at night" class="w-full h-full object-cover hover:scale-110" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/38a9b873-4b20-477f-89a3-f79e005a8696.png" />
      </div>
      <div class="gallery-image overflow-hidden rounded-lg">
        <img alt="Bartender mixing cocktails" class="w-full h-full object-cover hover:scale-110" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/002cc79a-1a68-4b8c-abd7-611a3c7a4802.png" />
      </div>
      <div class="gallery-image overflow-hidden rounded-lg">
        <img alt="Artisan bread" class="w-full h-full object-cover hover:scale-110" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/235eb1a1-49f7-4aba-ba48-41caf74f1db4.png" />
      </div>
      <div class="gallery-image overflow-hidden rounded-lg">
        <img alt="Outdoor seating with string lights" class="w-full h-full object-cover hover:scale-110" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/a2b0df29-4da8-4db7-83f4-2e6da7787d64.png" />
      </div>
      <div class="gallery-image overflow-hidden rounded-lg">
        <img alt="Colorful salad bowl" class="w-full h-full object-cover hover:scale-110" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/9ecdb668-6ee9-4b42-9b64-a8edab017f1b.png" />
      </div>
      <div class="gallery-image overflow-hidden rounded-lg">
        <img alt="Waitstaff serving guests" class="w-full h-full object-cover hover:scale-110" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/1b85e630-4787-437b-a0ad-e2e9592a1848.png" />
      </div>
    </div>


    <!-- Book Now Button -->
    <div class="text-center">
      <button id="showEventForm" class="px-6 py-3 bg-amber-600 text-white rounded hover:bg-amber-700 transition">
        Reserve Event
      </button>
    </div>

    <!-- Event Reservation Form (Initially Hidden) -->
    <div id="eventFormWrapper" class="mt-10 hidden transition-opacity duration-300">
      <form id="eventReservationForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <input type="text" placeholder="Your Name" class="border border-gray-300 rounded px-4 py-2" required />
        <input type="email" placeholder="Email" class="border border-gray-300 rounded px-4 py-2" required />
        <input type="text" placeholder="Event Type (Wedding, Party, etc.)" class="border border-gray-300 rounded px-4 py-2" required />
        <input type="number" placeholder="Number of Guests" class="border border-gray-300 rounded px-4 py-2" required />
        <input type="date" class="border border-gray-300 rounded px-4 py-2" required />
        <textarea placeholder="Any other details?" class="md:col-span-2 border border-gray-300 rounded px-4 py-2"></textarea>
        <button type="submit" class="md:col-span-2 bg-amber-600 text-white py-3 rounded-lg hover:bg-amber-700 transition">
          Submit Reservation
        </button>
      </form>
    </div>

  </div>
</section>



<!-- Testimonials -->
<section class="py-16 bg-gray-50">
<div class="container mx-auto px-4">
<div class="text-center mb-12">
<h2 class="text-3xl font-bold text-gray-800 mb-4">What Our Customers Say</h2>
<p class="text-gray-600 max-w-2xl mx-auto">Don't just take our word for it - hear what our guests have to say</p>
</div>
<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
<!-- Testimonial 1 -->
<div class="testimonial-card bg-white p-6 rounded-lg shadow-sm">
<div class="flex items-center mb-4">
<img alt="Portrait of a smiling woman with short brown hair" class="w-12 h-12 rounded-full mr-4" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/d3128fee-3a0a-449a-b396-fa75ddea7e38.png"/>
<div>
<h4 class="font-bold text-gray-800">Sarah Johnson</h4>
<div class="flex">
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
</div>
</div>
</div>
<p class="text-gray-600">
                        "The salmon was cooked to perfection and the service was impeccable. We celebrated our anniversary here and the staff made it extra special!"
                    </p>
</div>
<!-- Testimonial 2 -->
<div class="testimonial-card bg-white p-6 rounded-lg shadow-sm">
<div class="flex items-center mb-4">
<img alt="Portrait of a middle-aged man with glasses smiling" class="w-12 h-12 rounded-full mr-4" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/ca5f0bfa-251e-4a89-8a98-15d33fa95cca.png"/>
<div>
<h4 class="font-bold text-gray-800">Michael Chen</h4>
<div class="flex">
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
</div>
</div>
</div>
<p class="text-gray-600">
                        "Best Italian food I've had outside of Italy. The pasta is homemade and you can taste the difference. The wine selection is also excellent."
                    </p>
</div>
<!-- Testimonial 3 -->
<div class="testimonial-card bg-white p-6 rounded-lg shadow-sm">
<div class="flex items-center mb-4">
<img alt="Portrait of a young woman with curly hair laughing" class="w-12 h-12 rounded-full mr-4" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/f6ab59ad-0fe4-45ca-bfba-3e74897aa694.png"/>
<div>
<h4 class="font-bold text-gray-800">Emily Rodriguez</h4>
<div class="flex">
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star text-amber-500"></i>
<i class="fas fa-star-half-alt text-amber-500"></i>
</div>
</div>
</div>
<p class="text-gray-600">
                        "The atmosphere is so cozy and romantic. Perfect for date night. The tiramisu is to die for! Will definitely be coming back soon."
                    </p>
</div>
</div>
</div>
</section>


<!-- Contact & Map Section -->
<section class="py-16 bg-gray-50" id="contact">
<div class="container mx-auto px-4">
<div class="md:flex gap-12">
<div class="md:w-1/2 mb-8 md:mb-0">
<h2 class="text-3xl font-bold text-gray-800 mb-6">Contact Us</h2>
<p class="text-gray-600 mb-6">
                        Have questions or feedback? We'd love to hear from you. Visit us, give us a call, or send us a message.
                    </p>
<div class="space-y-4">
<div class="flex items-start">
<i class="fas fa-map-marker-alt text-amber-600 mt-1 mr-4"></i>
<div>
<h4 class="font-bold text-gray-800">Address</h4>
<p class="text-gray-600">123 Gourmet Street, Culinary District, Foodville, 10101</p>
</div>
</div>
<div class="flex items-center">
<i class="fas fa-phone text-amber-600 mr-4"></i>
<div>
<h4 class="font-bold text-gray-800">Phone</h4>
<p class="text-gray-600">+1 (555) 123-4567</p>
</div>
</div>
<div class="flex items-center">
<i class="fas fa-envelope text-amber-600 mr-4"></i>
<div>
<h4 class="font-bold text-gray-800">Email</h4>
<p class="text-gray-600">info@hawamahal.com</p>
</div>
</div>
</div>
<div class="mt-8">
<h4 class="font-bold text-gray-800 mb-4">Follow Us</h4>
<div class="flex space-x-4">
<a class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 hover:bg-amber-600 hover:text-white" href="#">
<i class="fab fa-facebook-f"></i>
</a>
<a class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 hover:bg-amber-600 hover:text-white" href="#">
<i class="fab fa-instagram"></i>
</a>
<a class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 hover:bg-amber-600 hover:text-white" href="#">
<i class="fab fa-twitter"></i>
</a>
</div>
</div>
</div>
<div class="md:w-1/2">
<div class="h-96 w-full bg-gray-200 rounded-lg overflow-hidden">
<iframe allowfullscreen="" class="w-full h-full" height="100%" loading="lazy" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.2156583517366!2d-73.98858268459364!3d40.74784497932881!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259a9b3117469%3A0xd134e199a405a163!2sEmpire%20State%20Building!5e0!3m2!1sen!2sus!4v1635791833941!5m2!1sen!2sus" style="border:0;" width="100%">
</iframe>
</div>
</div>
</div>
</div>
</section>
<!-- Footer -->
<footer class="bg-gray-800 text-white py-12">
<div class="container mx-auto px-4">
<div class="md:flex justify-between">
<div class="mb-8 md:mb-0">
<div class="flex items-center mb-4">
<img alt="Hawa Mahal restaurant logo with minimalist fork and knife icon" class="h-10 w-10 mr-2" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/1a393a32-0304-407b-bcf5-a93761ceba21.png"/>
<h2 class="text-2xl font-bold">Hawa Mahal</h2>
</div>
<p class="text-gray-400 max-w-xs">
                        Bringing people together through exceptional Indian cuisine and memorable dining experiences.
                    </p>
</div>
<div class="grid grid-cols-2 md:grid-cols-3 gap-8">
<div>
<h3 class="text-lg font-bold mb-4">Quick Links</h3>
<ul class="space-y-2">
<li><a class="text-gray-400 hover:text-white" href="#">Home</a></li>
<li><a class="text-gray-400 hover:text-white" href="#">Menu</a></li>
<li><a class="text-gray-400 hover:text-white" href="#">Private Rooms</a></li>
<li><a class="text-gray-400 hover:text-white" href="#">Order Online</a></li>
<li><a class="text-gray-400 hover:text-white" href="#">Contact</a></li>
</ul>
</div>
<div>
<h3 class="text-lg font-bold mb-4">Opening Hours</h3>
<ul class="space-y-2 text-gray-400">
<li>Monday - Friday: 11:00 - 22:30</li>
<li>Saturday: 10:00 - 23:00</li>
<li>Sunday: 10:00 - 22:00</li>
</ul>
</div>
<div>
<h3 class="text-lg font-bold mb-4">Newsletter</h3>
<p class="text-gray-400 mb-4">Subscribe to receive updates and special offers</p>
<form class="flex">
<input class="px-4 py-2 rounded-l-lg focus:outline-none text-gray-800 w-full" placeholder="Your email" type="email"/>
<button class="bg-amber-600 px-4 py-2 rounded-r-lg hover:bg-amber-700" type="submit">
<i class="fas fa-paper-plane"></i>
</button>
</form>
</div>
</div>
</div>
<div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
<p>¬© 2023 Hawa Mahal. All rights reserved.</p>
</div>
</div>
</footer>
<!-- Order Confirmation Modal (Hidden by default) -->
<div class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4" id="orderModal">
<div class="bg-white rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto">
<div class="p-6">
<div class="flex justify-between items-center mb-4">
<h3 class="text-xl font-bold text-gray-800">Your Order</h3>
<button class="text-gray-500 hover:text-gray-700" id="closeModal">
<i class="fas fa-times"></i>
</button>
</div>
<div class="mb-4 space-y-2" id="modalOrderSummary">
<!-- Order items will be populated here -->
</div>
<div class="font-bold text-lg border-t pt-2" id="modalOrderTotal"></div>
<div class="mt-6 flex justify-end">
<button class="bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700" id="finalizeOrderBtn">Finalize Order</button>
</div>
</div>
</div>
</div>
<!-- Mobile Menu (Hidden by default) -->
<div class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden p-8" id="mobileMenu">
<div class="flex justify-end mb-12">
<button class="text-white text-3xl" id="closeMobileMenu">
<i class="fas fa-times"></i>
</button>
</div>
<nav class="flex flex-col items-center space-y-8 text-white text-xl">
<a class="hover:text-amber-400" href="#home">Home</a>
<a class="hover:text-amber-400" href="#menu">Menu</a>
<a class="hover:text-amber-400" href="#private-rooms">Private Rooms</a>
<a class="hover:text-amber-400" href="#event-reservation">Event Reservation</a>
<a class="hover:text-amber-400" href="#contact">Contact</a>
<button class="bg-amber-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-amber-700">
                Place Order
            </button>
</nav>
</div>


<!-- JavaScript -->
<script>

// ==========================
// üõí ORDER SYSTEM LOGIC
// ==========================
const orderItems = [];
const summaryEl = document.getElementById('order-summary');
const totalEl = document.getElementById('order-total');
const checkoutSection = document.getElementById('checkout-section');
const deliverySelect = document.getElementById('delivery-method');
const addressWrapper = document.getElementById('address-wrapper');
const confirmOrderBtn = document.getElementById('confirmOrderBtn');

// üß† Render order summary
function renderSummary() {
  summaryEl.innerHTML = '';
  let total = 0;

  if (orderItems.length === 0) {
    summaryEl.innerHTML = '<p class="text-sm text-gray-500 italic">No items yet. Please add something from the menu.</p>';
  } else {
    orderItems.forEach(item => {
      total += item.price * item.quantity;
      summaryEl.innerHTML += `
        <div class="flex justify-between items-center gap-4">
          <span>${item.name}</span>
          <span>$${item.price} √ó ${item.quantity}</span>
          <button class="remove-item text-red-500 text-sm hover:underline" data-name="${item.name}">üóë</button>
        </div>
      `;
    });
  }

  totalEl.textContent = `Total: $${total.toFixed(2)}`;

  // üóë Remove buttons
  document.querySelectorAll('.remove-item').forEach(btn => {
    btn.addEventListener('click', () => {
      const name = btn.getAttribute('data-name');
      const index = orderItems.findIndex(item => item.name === name);
      if (index !== -1) orderItems.splice(index, 1);

      document.querySelectorAll('.dish-card').forEach(card => {
        const title = card.querySelector('h3')?.textContent;
        if (title === name) {
          const addBtn = card.querySelector('.add-to-order');
          addBtn.disabled = false;
          addBtn.innerHTML = 'Add';
        }
      });

      renderSummary();
      if (orderItems.length === 0) {
        checkoutSection.classList.add('hidden');
        confirmOrderBtn.textContent = 'Order Now';
      }
    });
  });
}

// üõí Add-to-order logic
document.querySelectorAll('.add-to-order').forEach(btn => {
  btn.addEventListener('click', () => {
    const card = btn.closest('.dish-card');
    const name = card.querySelector('h3').textContent;
    const price = parseFloat(card.querySelector('.dish-price').textContent.replace('$', ''));
    const qtyInput = card.querySelector('.dish-qty');
    const quantity = parseInt(qtyInput.value);

    if (!quantity || quantity < 1) {
      alert("Please enter a valid quantity (1 or more).");
      return;
    }

    const existing = orderItems.find(item => item.name === name);
    if (existing) {
      existing.quantity += quantity;
    } else {
      orderItems.push({ name, price, quantity });
    }

    btn.disabled = true;
    btn.innerHTML = '<span class="text-green-500 font-semibold">‚úî Added</span>';

    renderSummary();
    checkoutSection.classList.remove('hidden');
    confirmOrderBtn.textContent = 'Place Order';
  });
});

// üìÇ Filter by category
document.querySelectorAll('.menu-category').forEach(button => {
  button.addEventListener('click', () => {
    const selected = button.textContent.trim().toLowerCase();
    document.querySelectorAll('.dish-card').forEach(card => {
      const type = card.getAttribute('data-category');
      card.classList.toggle('hidden', selected !== 'all' && type !== selected);
    });
  });
});

// üì¶ Delivery toggle
deliverySelect.addEventListener('change', () => {
  addressWrapper.classList.toggle('hidden', deliverySelect.value !== 'delivery');
  if (deliverySelect.value !== 'delivery') {
    document.getElementById('address').value = '';
  }
});


// üßæ Confirm Order Button
confirmOrderBtn.addEventListener('click', () => {
  if (orderItems.length === 0) {
    alert("Please add items to your order first");
    document.getElementById("menu").scrollIntoView({ behavior: "smooth" });
  } else {
    document.getElementById("order").scrollIntoView({ behavior: "smooth" });
  }
});

// ‚úÖ Final form submission (with login check + smart redirect)
document.getElementById('reservationForm').addEventListener('submit', async (e) => {
  e.preventDefault();

  const data = {
    customer: {
      name: document.getElementById('name').value,
      email: document.getElementById('email').value,
      phone: document.getElementById('phone').value
    },
    delivery: {
      method: deliverySelect.value,
      address: document.getElementById('address').value,
      specialRequests: document.getElementById('specialRequests').value
    },
    items: orderItems,
    total: orderItems.reduce((sum, item) => sum + item.price * item.quantity, 0)
  };

  try {
    const res = await fetch('/customer/api/orders', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });

    const result = await res.json();

    // üÜï Preserve order data if login is required
  if (result.login_required) {
  alert('‚ö†Ô∏è Please login or register to place your order.');
  sessionStorage.setItem('pendingOrder', JSON.stringify(data));
  const next = location.pathname + '#order';           // ‚Üê where to return
  sessionStorage.setItem('redirectAfterLogin', next);  // keep as before
  window.location.href = '/otp_login?next=' + encodeURIComponent(next);  // ‚Üê CHANGED
  return;
}


    if (res.ok && result.success) {
      alert(`‚úÖ Order confirmed! Your order ID is: ${result.order_id}`);
      resetAll();
    } else {
      alert('‚ö†Ô∏è ' + (result.error || "Something went wrong."));
    }

  } catch (err) {
    console.error('‚ùå Order submission failed:', err);
    alert('‚ö†Ô∏è Something went wrong while placing your order. Please try again.');
  }
});

// üßπ Reset everything after success
function resetAll() {
  orderItems.length = 0;
  renderSummary();
  checkoutSection.classList.add('hidden');
  confirmOrderBtn.textContent = 'Order Now';
  document.getElementById('reservationForm').reset();
  addressWrapper.classList.add('hidden');
  document.querySelectorAll('.add-to-order').forEach(btn => {
    btn.disabled = false;
    btn.innerHTML = 'Add';
    const qty = btn.closest('.dish-card').querySelector('.dish-qty');
    if (qty) qty.value = '1';
  });
}

// ==========================
// üè† PRIVATE ROOM BOOKING
// ==========================
document.addEventListener("DOMContentLoaded", () => {
  const showPrivateFormBtn = document.getElementById("showPrivateRoomForm");
  const privateRoomWrapper = document.getElementById("privateRoomFormWrapper");
  const privateRoomForm = document.getElementById("privateRoomForm");

  showPrivateFormBtn.addEventListener("click", () => {
    privateRoomWrapper.classList.toggle("hidden");
    privateRoomWrapper.scrollIntoView({ behavior: "smooth" });
  });

  privateRoomForm.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = {
      name: privateRoomForm.querySelector('input[placeholder="Your Name"]').value.trim(),
      email: privateRoomForm.querySelector('input[placeholder="Email"]').value.trim(),
      date: privateRoomForm.querySelector('input[type="date"]').value.trim(),
      time: privateRoomForm.querySelector('input[type="time"]').value.trim(),
      message: privateRoomForm.querySelector('textarea').value.trim(),
    };

    try {
      const res = await fetch("/customer/api/private-room", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData),
      });

      const result = await res.json();

     if (result.login_required) {
  alert(result.message || "‚ö†Ô∏è Please login or register to book a private room.");
  sessionStorage.setItem("pendingPrivateRoom", JSON.stringify(formData));
  const next = location.pathname + '#private-rooms';   // ensure this id exists
  sessionStorage.setItem("redirectAfterLogin", next);
  window.location.href = "/otp_login?next=" + encodeURIComponent(next);  // ‚Üê CHANGED
  return;
}


      if (res.ok && result.success) {
        alert(result.message || "‚úÖ Your private room has been booked successfully!");
        privateRoomForm.reset();
        privateRoomWrapper.classList.add("hidden");
      } else {
        alert("‚ö†Ô∏è " + (result.error || "Something went wrong. Please try again."));
      }

    } catch (err) {
      console.error("‚ùå Booking failed:", err);
      alert("‚ùå Network error. Please try again later.");
    }
  });
});

// ==========================
// üéâ EVENT RESERVATION
// ==========================
document.addEventListener("DOMContentLoaded", () => {
  const showEventFormBtn = document.getElementById("showEventForm");
  const eventFormWrapper = document.getElementById("eventFormWrapper");
  const eventForm = document.getElementById("eventReservationForm");

  showEventFormBtn.addEventListener("click", () => {
    eventFormWrapper.classList.toggle("hidden");
    eventFormWrapper.scrollIntoView({ behavior: "smooth" });
  });

  eventForm.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = {
      name: eventForm.querySelector('input[placeholder="Your Name"]').value.trim(),
      email: eventForm.querySelector('input[placeholder="Email"]').value.trim(),
      event_type: eventForm.querySelector('input[placeholder="Event Type (Wedding, Party, etc.)"]').value.trim(),
      guests: eventForm.querySelector('input[placeholder="Number of Guests"]').value.trim(),
      date: eventForm.querySelector('input[type="date"]').value.trim(),
      message: eventForm.querySelector('textarea').value.trim()
    };

    try {
      const res = await fetch("/customer/api/event-reservation", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData)
      });

      const result = await res.json();

      // üÜï Preserve reservation if login required
    if (result.login_required) {
  alert(result.message || "‚ö†Ô∏è Please login or register to reserve an event.");
  sessionStorage.setItem("pendingEvent", JSON.stringify(formData));
  const next = location.pathname + '#event-reservation';
  sessionStorage.setItem("redirectAfterLogin", next);
  window.location.href = "/otp_login?next=" + encodeURIComponent(next);  // ‚Üê CHANGED
  return;
}

      if (res.ok && result.success) {
        alert(result.message || "‚úÖ Your event reservation was successful!");
        eventForm.reset();
        eventFormWrapper.classList.add("hidden");
      } else {
        alert("‚ö†Ô∏è " + (result.error || "Something went wrong. Please try again."));
      }

    } catch (err) {
      console.error("‚ùå Reservation failed:", err);
      alert("‚ùå Network error. Please try again later.");
    }
  });
});

// ==========================
// üß† Restore pending form data after successful login redirect
window.addEventListener("DOMContentLoaded", () => {
  // Wait a tiny bit to ensure DOM + forms are ready
  setTimeout(() => {
    const redirectPath = sessionStorage.getItem("redirectAfterLogin");
    if (!redirectPath) return;

    console.log("üîÅ Restoring data after login for:", redirectPath);

    // üßæ Restore ORDER form data (if stored)
    const orderData = sessionStorage.getItem("pendingOrder");
    if (orderData) {
      const data = JSON.parse(orderData);
      alert("‚úÖ Your previous order details have been restored!");

      // Refill customer info if available
      document.getElementById('name').value = data.customer.name || '';
      document.getElementById('email').value = data.customer.email || '';
      document.getElementById('phone').value = data.customer.phone || '';
      document.getElementById('address').value = data.delivery.address || '';
      document.getElementById('specialRequests').value = data.delivery.specialRequests || '';
      sessionStorage.removeItem("pendingOrder");
    }

    // üè† Restore PRIVATE ROOM booking
    const privateData = sessionStorage.getItem("pendingPrivateRoom");
    if (privateData) {
      const data = JSON.parse(privateData);
      alert("‚úÖ Your previous private room booking details have been restored!");
      document.querySelector('#privateRoomForm input[placeholder="Your Name"]').value = data.name || '';
      document.querySelector('#privateRoomForm input[placeholder="Email"]').value = data.email || '';
      document.querySelector('#privateRoomForm input[type="date"]').value = data.date || '';
      document.querySelector('#privateRoomForm input[type="time"]').value = data.time || '';
      document.querySelector('#privateRoomForm textarea').value = data.message || '';
      document.getElementById('privateRoomFormWrapper').classList.remove('hidden');
      sessionStorage.removeItem("pendingPrivateRoom");
    }

    // üéâ Restore EVENT booking
    const eventData = sessionStorage.getItem("pendingEvent");
    if (eventData) {
      const data = JSON.parse(eventData);
      alert("‚úÖ Your previous event reservation details have been restored!");
      document.querySelector('#eventReservationForm input[placeholder="Your Name"]').value = data.name || '';
      document.querySelector('#eventReservationForm input[placeholder="Email"]').value = data.email || '';
      document.querySelector('#eventReservationForm input[placeholder="Event Type (Wedding, Party, etc.)"]').value = data.event_type || '';
      document.querySelector('#eventReservationForm input[placeholder="Number of Guests"]').value = data.guests || '';
      document.querySelector('#eventReservationForm input[type="date"]').value = data.date || '';
      document.querySelector('#eventReservationForm textarea').value = data.message || '';
      document.getElementById('eventFormWrapper').classList.remove('hidden');
      sessionStorage.removeItem("pendingEvent");
    }

    // cleanup
    sessionStorage.removeItem("redirectAfterLogin");
  }, 300); // ‚è± small delay ensures DOM ready
});
</script>





</body>
</html>